# Настройки табеля рабочего времени

Для корректной работы модулей "Ежедневный отчет" и "Табель" необходимо добавить следующие переменные в файл `.env`:

## Основные настройки

```env
# URL основного API для получения данных пользователей и объектов
MAIN_API_URL=https://api.pto-app.ru/api/v1

# Количество рабочих часов в день (по умолчанию 8)
WORK_HOURS_PER_DAY=8

# Время начала рабочего дня (формат HH:MM)
WORK_START_TIME=09:00

# Часовой пояс для работы с временем
WORK_TIMEZONE=Europe/Moscow

# Выходные дни (0-6, где 0=воскресенье, 6=суббота)
# По умолчанию суббота и воскресенье
WEEKEND_DAYS=6,0

# Дата начала оказания услуг (формат YYYY-MM-DD)
SERVICE_START_DATE=2025-01-01
```

## Описание переменных

- **MAIN_API_URL** - URL основного приложения ПТО для получения данных о пользователях и объектах
- **WORK_HOURS_PER_DAY** - Количество часов, которое засчитывается как полный рабочий день при наличии отчета
- **WORK_START_TIME** - Время начала рабочего дня (используется для напоминаний об отчетах)
- **WORK_TIMEZONE** - Часовой пояс для корректного расчета времени
- **WEEKEND_DAYS** - Дни недели, которые считаются выходными (через запятую)
- **SERVICE_START_DATE** - Дата с которой начинается ведение табеля

## Логика работы

1. **Ежедневные отчеты**: За час до окончания рабочего дня пользователю показывается модальное окно для заполнения отчета
2. **Табель**: Если пользователь заполнил отчет, ему засчитывается полный рабочий день (WORK_HOURS_PER_DAY часов)
3. **Выходные**: В выходные дни (WEEKEND_DAYS) отчеты не требуются и часы не засчитываются
4. **Права доступа**: 
   - Администраторы видят отчеты всех пользователей и могут редактировать табель
   - Обычные пользователи видят только свои отчеты

## Примеры настроек

### Стандартный офис (пн-пт, 8 часов)
```env
WORK_HOURS_PER_DAY=8
WORK_START_TIME=09:00
WEEKEND_DAYS=6,0
```

### Шестидневная рабочая неделя (пн-сб, 7 часов)
```env
WORK_HOURS_PER_DAY=7
WORK_START_TIME=08:00
WEEKEND_DAYS=0
```

### Нестандартный график (вт-сб, 6 часов)
```env
WORK_HOURS_PER_DAY=6
WORK_START_TIME=10:00
WEEKEND_DAYS=0,1
``` 